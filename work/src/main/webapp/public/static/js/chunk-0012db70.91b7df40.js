(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0012db70"],{"4cf7":function(t,e,n){},"8dc5":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"archive-project"},[n("wk-page-header",{attrs:{title:"回收站"}}),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content-body"},[n("el-table",{staticStyle:{width:"100%"},attrs:{id:"crm-table",data:t.list,height:t.tableHeight,"highlight-current-row":""}},[n("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",label:"项目名称"}}),t._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",width:"200",prop:"deleteTime",label:"删除时间"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary-text"},nativeOn:{click:function(n){t.recoverProject(e.row,e.$index)}}},[t._v("恢复项目")]),t._v(" "),n("el-button",{staticClass:"is-delete",attrs:{type:"primary-text"},nativeOn:{click:function(n){t.thoroughDeleteTask(e.row,e.$index)}}},[t._v("彻底删除")])]}}])})],1),t._v(" "),n("div",{staticClass:"p-contianer"},[n("el-pagination",{staticClass:"p-bar",attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,total:t.total,background:"",layout:"prev, pager, next, sizes, total, jumper"},on:{"update:pageSize":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},a=[],c=(n("a434"),n("9111")),o=n("a535"),s=n("fdca"),r={name:"RecycleIndex",components:{WkPageHeader:s["a"]},data:function(){return{loading:!1,tableHeight:document.documentElement.clientHeight-195,list:[],currentPage:1,pageSize:15,pageSizes:[15,30,45,60],total:0}},created:function(){var t=this;window.onresize=function(){t.tableHeight=document.documentElement.clientHeight-195},this.getList()},methods:{handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.currentPage=t,this.getList()},getList:function(){var t=this;this.loading=!0,Object(c["a"])({page:this.currentPage,limit:this.pageSize,setType:3}).then((function(e){t.list=e.data.list,t.loading=!1})).catch((function(){t.loading=!1}))},recoverProject:function(t,e){var n=this;this.$confirm("确定恢复?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.loading=!0,Object(o["i"])({projectId:t.projectId,setType:1}).then((function(t){n.list.splice(e,1),n.$message.success("恢复成功"),n.loading=!1})).catch((function(){n.loading=!1}))})).catch((function(){}))},thoroughDeleteTask:function(t,e){var n=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.loading=!0,Object(o["n"])(t.projectId).then((function(t){n.list.splice(e,1),n.$message.success("删除成功"),n.loading=!1})).catch((function(){n.loading=!1}))})).catch((function(){}))}}},l=r,u=(n("c043"),n("2877")),h=Object(u["a"])(l,i,a,!1,null,"a849b488",null);e["default"]=h.exports},9111:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("b775");function a(t){return Object(i["a"])({url:"/project/archiveProjectList",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},c043:function(t,e,n){"use strict";n("4cf7")}}]);